# agent/config/agent.yaml.example
#
# Minimal per-machine configuration for a bench-race agent.
# This file is intentionally NOT tracked when copied to agent.yaml.
#
# Hardware specs (CPU, RAM, GPU, VRAM) are auto-detected at runtime.
# Model lists are defined centrally in: central/config/model_policy.yaml

# ============================================================================
# REQUIRED FIELDS
# ============================================================================

# Unique ID for this machine (must match central machines.yaml)
# Default: sanitized hostname (e.g., "macbook-pro" or "linux-workstation")
machine_id: "example-machine"

# Human-friendly label shown in the UI
# Default: Generated from hostname + detected specs (e.g., "Macbook Pro (M4, 128GB)")
label: "Example Machine"

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================

# Address/port the agent HTTP server binds to
bind_host: "0.0.0.0"
bind_port: 9001

# Base URL for the local Ollama instance
ollama_base_url: "http://127.0.0.1:11434"

# Central base URL (used for ComfyUI checkpoint sync and registration)
central_base_url: "http://127.0.0.1:8080"

# ============================================================================
# OPTIONAL CONFIGURATION
# ============================================================================

# ComfyUI configuration (optional)
# If enabled, agent will attempt to use ComfyUI for image generation
comfyui:
  enabled: true
  host: "127.0.0.1"
  port: 8188
  checkpoints_dir: "/opt/comfyui/models/checkpoints"
  install_dir: "/opt/comfyui"
  allow_cpu_fallback: false

# Runtime sampler configuration (optional)
# Samples CPU/GPU/VRAM usage for UI metrics
runtime_sampler:
  enabled: true
  interval_s: 1
  buffer_len: 120

# Optional: Tags for filtering/grouping machines
# tags:
#   - gpu
#   - linux
#   - production
