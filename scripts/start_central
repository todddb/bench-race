#!/usr/bin/env bash
# Compatibility wrapper: calls bin/control central start
# Usage: ./scripts/start_central [--daemon]
set -euo pipefail
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
REPO_ROOT="$(cd "${SCRIPT_DIR}/.." && pwd)"

args=()
for arg in "$@"; do
    if [[ "${arg}" == "--daemon" ]]; then
        # Default mode for bin/control is daemon, so no flag needed
        :
    else
        args+=("${arg}")
    fi
done

exec "${REPO_ROOT}/bin/control" central start "${args[@]}"
